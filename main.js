(()=>{"use strict";const e=document.querySelector("#content"),t=e=>{const t=document.createElement("li");t.classList.add("nav-list-item");const a=n(e,"nav-list-link","#");return t.append(a),t},n=(e,t,n)=>{const a=document.createElement("a");return a.classList.add(t),a.setAttribute("href",n),a.innerText=e,a},a=(e,t)=>{const n=document.createElement("img");return n.classList.add(e),n.setAttribute("src",t),n.setAttribute("alt",""),n},s=()=>{const e=document.querySelector(".main");e.textContent="";const t=document.createElement("div");t.classList.add("main-content-container");const n=(()=>{const e=document.createElement("h2");return e.classList.add("main-title"),e.innerText="Welcome!",e})(),s=a("main-img-one","./assets/donut.png"),c=a("main-img-two","./assets/donut-2.png"),o=(()=>{const e=document.createElement("p"),t=document.createElement("br");return e.classList.add("main-para"),e.append("We hand make our donuts everyday with fresh ingredients!",t,"Check out our menu to see our standard range of donuts. Each day we also make a variety of unique specialty donuts that aren't shown on our menu so come visit our store to see what is available today!"),e})();t.append(o,s,c),e.append(n,t)},c=[["Box of 6","Your choice of any 6 donuts!","£10","./assets/box-6.jpg"],["Box of 12","Your choice of any 12 donuts!","£15","./assets/box-12.jpg"],["Classic Ring","A classic ring donut with glaze or sugar on top","£2","./assets/classic-ring.jpg"],["Classic Filled","A classic filled donut with powdered sugar on top and a jam or custard filling","£2","./assets/classic-filled.jpg"],["Chocolate Ring","A ring donut dipped in chocolate with your choice of topping","£2.50","./assets/choc-ring.jpg"],["Chocolate Filled","A filled donut dipped in chocolate with your choice of topping and filling","£2.50","./assets/choc-filled.jpg"],["Colourful Ring","A ring donut dipped in a variety of icing colours and your choice of topping","£2.50","./assets/icing-ring.jpg"],["Colourful Filled","A filled donut dipped in a variety of icing colours and your choice of topping and filling","£2.50","./assets/icing-filled.jpg"]],o=()=>{const e=document.querySelector(".main");e.textContent="";const t=(()=>{const e=document.createElement("h2");return e.classList.add("menu-title"),e.innerText="Menu",e})(),n=(()=>{const e=document.createElement("div");return e.classList.add("menu-container"),e})();c.forEach((e=>{const t=((e,t,n,a)=>{const s=document.createElement("div");s.classList.add("menu-item-container");const c=document.createElement("h3");c.classList.add("menu-item-title");const o=document.createElement("p");o.classList.add("menu-item-text");const d=document.createElement("p");d.classList.add("menu-item-price");const i=(e=>{const t=document.createElement("div");t.classList.add("menu-img-container");const n=document.createElement("img");return n.classList.add("menu-img"),n.setAttribute("src",e),n.setAttribute("alt",""),t.append(n),t})(a);return c.innerText=e,o.innerText=t,d.innerText=n,s.append(i),s.append(c),s.append(o),s.append(d),s})(e[0],e[1],e[2],e[3]);n.append(t)})),e.append(t),e.append(n)},d=e=>{const t=document.createElement("label");return t.classList.add(`${e}-label`),t.setAttribute("for",`${e}-label`),t.innerText=e,t},i=(e,t)=>{const n=document.createElement("input");return n.classList.add(`${e}-label`),n.setAttribute("type",t),n.setAttribute("id",`${e}-label`),n.setAttribute("name",`${e}-label`),n.setAttribute("required","true"),n};(()=>{const n=document.createElement("header");n.classList.add("header");const a=document.createElement("h1");a.classList.add("header-title"),a.innerText="Clara's Donuts";const s=document.createElement("nav");s.classList.add("header-nav");const c=document.createElement("ul");c.classList.add("nav-list");const o=t("Home"),d=t("Menu"),i=t("Contact");c.append(o,d,i),s.append(c),n.append(a),n.append(s),e.append(n)})(),(()=>{const t=document.createElement("main");t.classList.add("main"),e.append(t)})(),(()=>{const t=document.createElement("footer");t.classList.add("footer");const a=document.createElement("p");a.classList.add("footer-para");const s=n("Clara","footer-link","#"),c=n("TheOdinProject","footer-link","#");a.append("Created by ",s," for ",c),t.append(a),e.append(t)})(),s(),document.querySelectorAll(".nav-list-link").forEach(((e,t)=>{e.addEventListener("click",(()=>{switch(t){case 0:s();break;case 1:o();break;case 2:(()=>{const e=document.querySelector(".main");e.textContent="";const t=(()=>{const e=document.createElement("h2");return e.classList.add("contact-title"),e.innerText="Contact us!",e})(),n=(()=>{const e=document.createElement("div");e.classList.add("contact-details");const t=document.createElement("h3");t.classList.add("contact-details-title"),t.innerText="Address";const n=document.createElement("p");n.classList.add("contact-details-text");const a=document.createElement("p");a.classList.add("contact-details-text");const s=()=>document.createElement("br");return n.append("221b Baker Street",s(),"London",s(),"NW1 6XE"),a.append("02800000000",s(),"clarasdonuts@notarealemail.com"),e.append(t),e.append(n),e.append(a),e})(),a=(()=>{const e=document.createElement("div");e.classList.add("contact-details");const t=document.createElement("h3");t.classList.add("contact-details-title"),t.innerText="Open Hours";const n=document.createElement("p");n.classList.add("contact-details-text");const a=()=>document.createElement("br");return n.append("Mon: 7.00am - 6.30pm",a()),n.append("Tue: 7.00am - 6.30pm",a()),n.append("Wed: 7.00am - 6.30pm",a()),n.append("Thu: 7.00am - 6.30pm",a()),n.append("Fri: 7.00am - 6.30pm",a()),n.append("Sat: 8.00am - 6.30pm"),e.append(t),e.append(n),e})(),s=(()=>{const e=document.createElement("form");e.classList.add("contact-form");const t=document.createElement("fieldset");t.classList.add("form-fieldset");const n=document.createElement("legend");n.classList.add("form-legend"),n.innerText="Send us a message!";const a=d("name"),s=i("name","text"),c=d("email"),o=i("email","email"),r=d("message"),l=i("message","textarea"),m=document.createElement("button");return m.classList.add("form-btn"),m.setAttribute("type","submit"),m.innerText="Submit",t.append(n),t.append(a,s),t.append(c,o),t.append(r,l),e.append(t),e.append(m),e})();e.append(t,n,a,s)})()}}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2s6Ly9yZXN0YXVyYW50LXBhZ2UvLi9zcmMvbW9kdWxlcy9ob21lLmpzIiwid2VicGFjazovL3Jlc3RhdXJhbnQtcGFnZS8uL3NyYy9tb2R1bGVzL21lbnUuanMiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudC1wYWdlLy4vc3JjL21vZHVsZXMvY29udGFjdC5qcyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50LXBhZ2UvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGFnZUNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpXG5cbmNvbnN0IGNyZWF0ZUhlYWRlciA9ICgpID0+IHtcbiAgICAvLyBDcmVhdGVzIHRoZSBoZWFkZXIgZWxlbWVudFxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXInKTtcblxuICAgIC8vIENyZWF0ZXMgdGhlIGgxIGVsZW1lbnRcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLXRpdGxlJyk7XG4gICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0NsYXJhXFwncyBEb251dHMnO1xuXG4gICAgLy8gQ3JlYXRlcyB0aGUgbmF2IGVsZW1lbnRcbiAgICBjb25zdCBuYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCduYXYnKTtcbiAgICBuYXYuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5hdicpO1xuXG4gICAgLy9DcmVhdGVzIHRoZSB1bCBlbGVtZW50IHdpdGhpbiBuYXZcbiAgICBjb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBuYXZMaXN0LmNsYXNzTGlzdC5hZGQoJ25hdi1saXN0Jyk7XG5cbiAgICAvL0NyZWF0ZXMgdGhlIGxpIGVsZW1lbnRzIHdpdGhpbiB0aGUgdWxcbiAgICBjb25zdCBob21lID0gY3JlYXRlTGlzdEl0ZW0oJ0hvbWUnKTtcbiAgICBjb25zdCBtZW51ID0gY3JlYXRlTGlzdEl0ZW0oJ01lbnUnKTtcbiAgICBjb25zdCBjb250YWN0ID0gY3JlYXRlTGlzdEl0ZW0oJ0NvbnRhY3QnKTtcblxuICAgIC8vIEFkZHMgdGhlIG5hdiBsaSBpdGVtcyB0byB0aGUgdWxcbiAgICBuYXZMaXN0LmFwcGVuZChob21lLCBtZW51LCBjb250YWN0KTtcbiAgICAvLyBBZGRzIHRoZSBuYXYgdWwgdG8gdGhlIG5hdiBlbGVtZW50IFxuICAgIG5hdi5hcHBlbmQobmF2TGlzdCk7XG4gICAgLy8gQWRkcyB0aGUgdGl0bGUgYW5kIG5hdiB0byB0aGUgaGVhZGVyXG4gICAgaGVhZGVyLmFwcGVuZCh0aXRsZSk7XG4gICAgaGVhZGVyLmFwcGVuZChuYXYpO1xuICAgIC8vIEFkZHMgdGhlIGhlYWRlciB0byB0aGUgcGFnZUNvbnRlbnQgZGl2XG4gICAgcGFnZUNvbnRlbnQuYXBwZW5kKGhlYWRlcik7XG59XG5cbmNvbnN0IGNyZWF0ZU1haW4gPSAoKSA9PiB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKTtcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ21haW4nKTtcblxuICAgIHBhZ2VDb250ZW50LmFwcGVuZChtYWluKTtcbn1cblxuY29uc3QgY3JlYXRlRm9vdGVyID0gKCkgPT4ge1xuICAgIC8vIENyZWF0ZXMgdGhlIGZvb3RlciBlbGVtZW50XG4gICAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9vdGVyJyk7XG4gICAgZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ2Zvb3RlcicpO1xuXG4gICAgLy8gQ3JlYXRlcyB0aGUgZm9vdGVyIHBhcmFncmFwaCBlbGVtZW50XG4gICAgY29uc3QgZm9vdGVyUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBmb290ZXJQYXJhLmNsYXNzTGlzdC5hZGQoJ2Zvb3Rlci1wYXJhJyk7XG5cbiAgICAvL0NyZWF0ZXMgdGhlIGZvb3RlciBsaW5rIGVsZW1lbnRzXG4gICAgY29uc3QgZm9vdGVyTGlua09uZSA9IGNyZWF0ZUxpbmsoJ0NsYXJhJywgJ2Zvb3Rlci1saW5rJywgJyMnKTtcbiAgICBjb25zdCBmb290ZXJMaW5rVHdvID0gY3JlYXRlTGluaygnVGhlT2RpblByb2plY3QnLCAnZm9vdGVyLWxpbmsnLCAnIycpO1xuXG4gICAgLy8gQWRkcyB0aGUgbGlua3MgdG8gdGhlIHBhcmFncmFwaCB0ZXh0XG4gICAgZm9vdGVyUGFyYS5hcHBlbmQoJ0NyZWF0ZWQgYnkgJywgZm9vdGVyTGlua09uZSwgJyBmb3IgJywgZm9vdGVyTGlua1R3bylcbiAgICAvLyBBZGRzIHRoZSBwYXJhZ3JhcGggdG8gdGhlIGZvb3RlclxuICAgIGZvb3Rlci5hcHBlbmQoZm9vdGVyUGFyYSk7XG4gICAgLy8gQWRkcyB0aGUgZm9vdGVyIHRvIHRoZSBwYWdlXG4gICAgcGFnZUNvbnRlbnQuYXBwZW5kKGZvb3Rlcik7XG59XG5cbmNvbnN0IGNyZWF0ZUxpc3RJdGVtID0gKG5hbWUpID0+IHtcbiAgICAvLyBDcmVhdGVzIHRoZSB1bCBsaXN0IGl0ZW1cbiAgICBjb25zdCBuYXZMaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbmF2TGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnbmF2LWxpc3QtaXRlbScpO1xuICAgIC8vIENyZWF0ZXMgdGhlIGxpbmtcbiAgICBjb25zdCBuYXZMaXN0SXRlbUxpbmsgPSBjcmVhdGVMaW5rKG5hbWUsICduYXYtbGlzdC1saW5rJywgJyMnKVxuICAgIC8vIEFkZHMgdGhlIGxpbmsgdG8gdGhlIGxpXG4gICAgbmF2TGlzdEl0ZW0uYXBwZW5kKG5hdkxpc3RJdGVtTGluayk7XG4gICAgcmV0dXJuIG5hdkxpc3RJdGVtO1xufVxuXG5jb25zdCBjcmVhdGVMaW5rID0gKGxpbmtUZXh0LCBjbGFzc05hbWUsIGhyZWZWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGluay5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmVmFsdWUpO1xuICAgIGxpbmsuaW5uZXJUZXh0ID0gbGlua1RleHQ7XG4gICAgcmV0dXJuIGxpbms7XG59XG5cbmNvbnN0IGNyZWF0ZVBhZ2VMYXlvdXQgPSAoKSA9PiB7XG4gICAgY3JlYXRlSGVhZGVyKCk7XG4gICAgY3JlYXRlTWFpbigpO1xuICAgIGNyZWF0ZUZvb3RlcigpO1xufVxuXG5leHBvcnQgeyBjcmVhdGVQYWdlTGF5b3V0IH07IiwiY29uc3QgY3JlYXRlVGl0bGUgPSAoKSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ21haW4tdGl0bGUnKTtcbiAgICB0aXRsZS5pbm5lclRleHQgPSAnV2VsY29tZSEnO1xuICAgIHJldHVybiB0aXRsZTtcbn1cblxuY29uc3QgY3JlYXRlSW1nID0gKGNsYXNzTmFtZSwgc291cmNlKSA9PiB7XG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICBpbWcuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpXG4gICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc291cmNlKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdhbHQnLCAnJyk7XG4gICAgcmV0dXJuIGltZztcbn1cblxuY29uc3QgY3JlYXRlRGVzYyA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IGxpbmVCcmVhayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7XG4gICAgcGFyYS5jbGFzc0xpc3QuYWRkKCdtYWluLXBhcmEnKTtcbiAgICBwYXJhLmFwcGVuZCgnV2UgaGFuZCBtYWtlIG91ciBkb251dHMgZXZlcnlkYXkgd2l0aCBmcmVzaCBpbmdyZWRpZW50cyEnLCBsaW5lQnJlYWssICdDaGVjayBvdXQgb3VyIG1lbnUgdG8gc2VlIG91ciBzdGFuZGFyZCByYW5nZSBvZiBkb251dHMuIEVhY2ggZGF5IHdlIGFsc28gbWFrZSBhIHZhcmlldHkgb2YgdW5pcXVlIHNwZWNpYWx0eSBkb251dHMgdGhhdCBhcmVuXFwndCBzaG93biBvbiBvdXIgbWVudSBzbyBjb21lIHZpc2l0IG91ciBzdG9yZSB0byBzZWUgd2hhdCBpcyBhdmFpbGFibGUgdG9kYXkhJyk7XG4gICAgcmV0dXJuIHBhcmE7XG59XG5cbmNvbnN0IGNyZWF0ZUhvbWUgPSAoKSA9PiB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XG4gICAgbWFpbi50ZXh0Q29udGVudCA9ICcnO1xuICAgIGNvbnN0IG1haW5Db250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWFpbkNvbnRlbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFpbi1jb250ZW50LWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRpdGxlID0gY3JlYXRlVGl0bGUoKTtcbiAgICBjb25zdCBpbWcgPSBjcmVhdGVJbWcoJ21haW4taW1nLW9uZScsICcuL2Fzc2V0cy9kb251dC5wbmcnKTtcbiAgICBjb25zdCBpbWdUd28gPSBjcmVhdGVJbWcoJ21haW4taW1nLXR3bycsICcuL2Fzc2V0cy9kb251dC0yLnBuZycpO1xuICAgIGNvbnN0IHBhcmEgPSBjcmVhdGVEZXNjKCk7XG5cbiAgICBtYWluQ29udGVudENvbnRhaW5lci5hcHBlbmQocGFyYSwgaW1nLCBpbWdUd28pO1xuICAgIG1haW4uYXBwZW5kKHRpdGxlLCBtYWluQ29udGVudENvbnRhaW5lcik7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUhvbWUgfSIsImNvbnN0IGNyZWF0ZVRpdGxlID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCdtZW51LXRpdGxlJyk7XG4gICAgdGl0bGUuaW5uZXJUZXh0ID0gJ01lbnUnO1xuICAgIHJldHVybiB0aXRsZTtcbn1cblxuY29uc3QgY3JlYXRlTWVudUNvbnRhaW5lciA9ICgpID0+IHtcbiAgICBjb25zdCBtZW51Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVudUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtZW51LWNvbnRhaW5lcicpO1xuICAgIHJldHVybiBtZW51Q29udGFpbmVyO1xufVxuXG5jb25zdCBjcmVhdGVJdGVtID0gKGl0ZW1UaXRsZSwgaXRlbURlc2MsIGl0ZW1QcmljZSwgaXRlbUltZykgPT4ge1xuICAgIC8vIENyZWF0ZXMgdGhlIGNvbnRhaW5lciBkaXZcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWNvbnRhaW5lcicpO1xuICAgIC8vIENyZWF0ZXMgdGhlIEl0ZW0gdGl0bGVcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLXRpdGxlJyk7XG4gICAgLy8gQ3JlYXRlcyB0aGUgSXRlbSB0ZXh0IGNvbnRlbnRcbiAgICBjb25zdCBkZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGRlc2MuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLXRleHQnKTtcbiAgICAvLyBDcmVhdGVzIHRoZSBJdGVtIHByaWNlXG4gICAgY29uc3QgcHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgcHJpY2UuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLXByaWNlJyk7XG4gICAgLy8gQ3JlYXRlcyB0aGUgSW1nXG4gICAgY29uc3QgaW1nID0gY3JlYXRlSW1nKGl0ZW1JbWcpO1xuXG4gICAgLy8gQWRkcyB0aGUgY29udGVudCB0byB0aGUgZWxlbWVudHNcbiAgICB0aXRsZS5pbm5lclRleHQgPSBpdGVtVGl0bGU7XG4gICAgZGVzYy5pbm5lclRleHQgPSBpdGVtRGVzYztcbiAgICBwcmljZS5pbm5lclRleHQgPSBpdGVtUHJpY2U7XG5cbiAgICAvLyBBZGRzIHRoZSBlbGVtZW50cyB0byB0aGUgY29udGFpbmVyXG4gICAgY29udGFpbmVyLmFwcGVuZChpbWcpO1xuICAgIGNvbnRhaW5lci5hcHBlbmQodGl0bGUpO1xuICAgIGNvbnRhaW5lci5hcHBlbmQoZGVzYyk7XG4gICAgY29udGFpbmVyLmFwcGVuZChwcmljZSk7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxuXG5jb25zdCBjcmVhdGVJbWcgPSAoaW1nUGF0aCkgPT4ge1xuICAgIGNvbnN0IGltZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGltZ0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtZW51LWltZy1jb250YWluZXInKTtcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuY2xhc3NMaXN0LmFkZCgnbWVudS1pbWcnKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBpbWdQYXRoKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdhbHQnLCAnJyk7XG4gICAgaW1nQ29udGFpbmVyLmFwcGVuZChpbWcpO1xuICAgIHJldHVybiBpbWdDb250YWluZXI7XG59XG5cbmNvbnN0IG1lbnVJdGVtcyA9IFtcbiAgICBbJ0JveCBvZiA2JywgJ1lvdXIgY2hvaWNlIG9mIGFueSA2IGRvbnV0cyEnLCAnwqMxMCcsICcuL2Fzc2V0cy9ib3gtNi5qcGcnXSxcbiAgICBbJ0JveCBvZiAxMicsICdZb3VyIGNob2ljZSBvZiBhbnkgMTIgZG9udXRzIScsICfCozE1JywgJy4vYXNzZXRzL2JveC0xMi5qcGcnXSxcbiAgICBbJ0NsYXNzaWMgUmluZycsICdBIGNsYXNzaWMgcmluZyBkb251dCB3aXRoIGdsYXplIG9yIHN1Z2FyIG9uIHRvcCcsICfCozInLCAnLi9hc3NldHMvY2xhc3NpYy1yaW5nLmpwZyddLFxuICAgIFsnQ2xhc3NpYyBGaWxsZWQnLCAnQSBjbGFzc2ljIGZpbGxlZCBkb251dCB3aXRoIHBvd2RlcmVkIHN1Z2FyIG9uIHRvcCBhbmQgYSBqYW0gb3IgY3VzdGFyZCBmaWxsaW5nJywgJ8KjMicsICcuL2Fzc2V0cy9jbGFzc2ljLWZpbGxlZC5qcGcnXSxcbiAgICBbJ0Nob2NvbGF0ZSBSaW5nJywgJ0EgcmluZyBkb251dCBkaXBwZWQgaW4gY2hvY29sYXRlIHdpdGggeW91ciBjaG9pY2Ugb2YgdG9wcGluZycsICfCozIuNTAnLCAnLi9hc3NldHMvY2hvYy1yaW5nLmpwZyddLFxuICAgIFsnQ2hvY29sYXRlIEZpbGxlZCcsICdBIGZpbGxlZCBkb251dCBkaXBwZWQgaW4gY2hvY29sYXRlIHdpdGggeW91ciBjaG9pY2Ugb2YgdG9wcGluZyBhbmQgZmlsbGluZycsICfCozIuNTAnLCAnLi9hc3NldHMvY2hvYy1maWxsZWQuanBnJ10sXG4gICAgWydDb2xvdXJmdWwgUmluZycsICdBIHJpbmcgZG9udXQgZGlwcGVkIGluIGEgdmFyaWV0eSBvZiBpY2luZyBjb2xvdXJzIGFuZCB5b3VyIGNob2ljZSBvZiB0b3BwaW5nJywgJ8KjMi41MCcsICcuL2Fzc2V0cy9pY2luZy1yaW5nLmpwZyddLFxuICAgIFsnQ29sb3VyZnVsIEZpbGxlZCcsICdBIGZpbGxlZCBkb251dCBkaXBwZWQgaW4gYSB2YXJpZXR5IG9mIGljaW5nIGNvbG91cnMgYW5kIHlvdXIgY2hvaWNlIG9mIHRvcHBpbmcgYW5kIGZpbGxpbmcnLCAnwqMyLjUwJywgJy4vYXNzZXRzL2ljaW5nLWZpbGxlZC5qcGcnXSxcbl07XG5cbmNvbnN0IGNyZWF0ZU1lbnUgPSAoKSA9PiB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XG4gICAgbWFpbi50ZXh0Q29udGVudCA9ICcnO1xuXG4gICAgY29uc3QgdGl0bGUgPSBjcmVhdGVUaXRsZSgpO1xuICAgIGNvbnN0IG1lbnUgPSBjcmVhdGVNZW51Q29udGFpbmVyKCk7XG5cbiAgICAvLyBMb29wcyB0aHJvdWdoIHRoZSBhcnJheSBhbmQgYXBwZW5kcyBlYWNoIGl0ZW0gdG8gdGhlIG1lbnVcbiAgICBtZW51SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCB0aGlzSXRlbSA9IGNyZWF0ZUl0ZW0oaXRlbVswXSwgaXRlbVsxXSwgaXRlbVsyXSwgaXRlbVszXSk7XG4gICAgICAgIG1lbnUuYXBwZW5kKHRoaXNJdGVtKTtcbiAgICB9KTtcblxuICAgIC8vIEFkZHMgZWxlbWVudHMgdG8gdGhlIG1haW4gc2VjdGlvblxuICAgIG1haW4uYXBwZW5kKHRpdGxlKTtcbiAgICBtYWluLmFwcGVuZChtZW51KTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZU1lbnUgfSIsImNvbnN0IGNyZWF0ZVRpdGxlID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCdjb250YWN0LXRpdGxlJyk7XG4gICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0NvbnRhY3QgdXMhJztcbiAgICByZXR1cm4gdGl0bGU7XG59XG5cbmNvbnN0IGNyZWF0ZURldGFpbHMgPSAoKSA9PiB7XG4gICAgLy8gQ3JlYXRlcyB0aGUgY29udGFjdCBkZXRhaWxzIGNvbnRhaW5lclxuICAgIGNvbnN0IGNvbnRhaW5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCdjb250YWN0LWRldGFpbHMnKTtcbiAgICAvLyBDcmVhdGVzIHRoZSB0aXRsZSBoMyBlbGVtZW50XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtZGV0YWlscy10aXRsZScpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9ICdBZGRyZXNzJztcbiAgICAvLyBDcmVhdGVzIHRoZSBhZGRyZXNzIHAgZWxlbWVudFxuICAgIGNvbnN0IGFkZHJlc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgYWRkcmVzcy5jbGFzc0xpc3QuYWRkKCdjb250YWN0LWRldGFpbHMtdGV4dCcpO1xuICAgIC8vIENyZWF0ZXMgcGhvbmUgYW5kIGVtYWlsIHAgZWxlbWVudFxuICAgIGNvbnN0IHBob25lRW1haWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgcGhvbmVFbWFpbC5jbGFzc0xpc3QuYWRkKCdjb250YWN0LWRldGFpbHMtdGV4dCcpO1xuICAgIC8vIENyZWF0ZXMgYSBsaW5lIGJyZWFrIGVsZW1lbnRcbiAgICBjb25zdCBsaW5lQnJlYWsgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpO1xuXG4gICAgLy8gQWRkcyB0aGUgY29udGVudCB0byB0aGUgcCBlbGVtZW50c1xuICAgIGFkZHJlc3MuYXBwZW5kKCcyMjFiIEJha2VyIFN0cmVldCcsIGxpbmVCcmVhaygpLCAnTG9uZG9uJywgbGluZUJyZWFrKCksICdOVzEgNlhFJyk7XG4gICAgcGhvbmVFbWFpbC5hcHBlbmQoJzAyODAwMDAwMDAwJywgbGluZUJyZWFrKCksICdjbGFyYXNkb251dHNAbm90YXJlYWxlbWFpbC5jb20nKTtcblxuICAgIC8vIEFkZHMgdGhlIGVsZW1lbnRzIHRvIHRoZSBjb250YWluZXJcbiAgICBjb250YWluZXJEaXYuYXBwZW5kKHRpdGxlKTtcbiAgICBjb250YWluZXJEaXYuYXBwZW5kKGFkZHJlc3MpO1xuICAgIGNvbnRhaW5lckRpdi5hcHBlbmQocGhvbmVFbWFpbCk7XG5cbiAgICByZXR1cm4gY29udGFpbmVyRGl2O1xufVxuXG5jb25zdCBjcmVhdGVPcGVuSG91cnMgPSAoKSA9PiB7XG4gICAgLy8gQ3JlYXRlcyB0aGUgY29udGFjdCBkZXRhaWxzIGNvbnRhaW5lclxuICAgIGNvbnN0IGNvbnRhaW5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCdjb250YWN0LWRldGFpbHMnKTtcbiAgICAvLyBDcmVhdGVzIHRoZSB0aXRsZSBoMyBlbGVtZW50XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtZGV0YWlscy10aXRsZScpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9ICdPcGVuIEhvdXJzJztcbiAgICAvLyBDcmVhdGVzIGhvdXJzIHAgZWxlbWVudFxuICAgIGNvbnN0IGhvdXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGhvdXJzLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtZGV0YWlscy10ZXh0Jyk7XG4gICAgLy8gQ3JlYXRlcyBhIGxpbmUgYnJlYWsgZWxlbWVudFxuICAgIGNvbnN0IGxpbmVCcmVhayA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7XG5cbiAgICAvLyBBZGRzIHRoZSBjb250ZW50IHRvIHRoZSBwIGVsZW1lbnRcbiAgICBob3Vycy5hcHBlbmQoJ01vbjogNy4wMGFtIC0gNi4zMHBtJywgbGluZUJyZWFrKCkpO1xuICAgIGhvdXJzLmFwcGVuZCgnVHVlOiA3LjAwYW0gLSA2LjMwcG0nLCBsaW5lQnJlYWsoKSk7XG4gICAgaG91cnMuYXBwZW5kKCdXZWQ6IDcuMDBhbSAtIDYuMzBwbScsIGxpbmVCcmVhaygpKTtcbiAgICBob3Vycy5hcHBlbmQoJ1RodTogNy4wMGFtIC0gNi4zMHBtJywgbGluZUJyZWFrKCkpO1xuICAgIGhvdXJzLmFwcGVuZCgnRnJpOiA3LjAwYW0gLSA2LjMwcG0nLCBsaW5lQnJlYWsoKSk7XG4gICAgaG91cnMuYXBwZW5kKCdTYXQ6IDguMDBhbSAtIDYuMzBwbScpO1xuXG4gICAgLy8gQWRkcyB0aGUgZWxlbWVudHMgdG8gdGhlIGNvbnRhaW5lclxuICAgIGNvbnRhaW5lckRpdi5hcHBlbmQodGl0bGUpO1xuICAgIGNvbnRhaW5lckRpdi5hcHBlbmQoaG91cnMpO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lckRpdjtcbn1cblxuY29uc3QgY3JlYXRlRm9ybSA9ICgpID0+IHtcbiAgICAvLyBDcmVhdGVzIHRoZSBmb3JtIGVsZW1lbnRcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnY29udGFjdC1mb3JtJyk7XG4gICAgLy8gQ3JlYXRlcyB0aGUgZm9ybSBmaWVsZHNldFxuICAgIGNvbnN0IGZpZWxkc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmllbGRzZXQnKTtcbiAgICBmaWVsZHNldC5jbGFzc0xpc3QuYWRkKCdmb3JtLWZpZWxkc2V0Jyk7XG4gICAgLy8gQ3JlYXRlcyB0aGUgZmllbGRzZXQgbGVnZW5kXG4gICAgY29uc3QgbGVnZW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGVnZW5kJyk7XG4gICAgbGVnZW5kLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tbGVnZW5kJyk7XG4gICAgbGVnZW5kLmlubmVyVGV4dCA9ICdTZW5kIHVzIGEgbWVzc2FnZSEnO1xuICAgIC8vIENyZWF0ZXMgdGhlIGZvcm0gaW5wdXRzIGFuZCBsYWJlbHNcbiAgICBjb25zdCBuYW1lTGFiZWwgPSBjcmVhdGVJbnB1dExhYmVsKCduYW1lJyk7XG4gICAgY29uc3QgbmFtZUlucHV0ID0gY3JlYXRlSW5wdXQoJ25hbWUnLCAndGV4dCcpO1xuICAgIGNvbnN0IGVtYWlsTGFiZWwgPSBjcmVhdGVJbnB1dExhYmVsKCdlbWFpbCcpO1xuICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBjcmVhdGVJbnB1dCgnZW1haWwnLCAnZW1haWwnKTtcbiAgICBjb25zdCBtZXNzYWdlTGFiZWwgPSBjcmVhdGVJbnB1dExhYmVsKCdtZXNzYWdlJylcbiAgICBjb25zdCBtZXNzYWdlSW5wdXQgPSBjcmVhdGVJbnB1dCgnbWVzc2FnZScsICd0ZXh0YXJlYScpO1xuICAgIC8vIENyZWF0ZXMgdGhlIHN1Ym1pdCBidXR0b25cbiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidG4uY2xhc3NMaXN0LmFkZCgnZm9ybS1idG4nKTtcbiAgICBidG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3N1Ym1pdCcpO1xuICAgIGJ0bi5pbm5lclRleHQgPSAnU3VibWl0JztcblxuICAgIC8vIEFkZHMgdGhlIGxlZ2VuZCwgaW5wdXRzIGFuZCBsYWJlbHMgdG8gdGhlIGZpZWxkc2V0XG4gICAgZmllbGRzZXQuYXBwZW5kKGxlZ2VuZCk7XG4gICAgZmllbGRzZXQuYXBwZW5kKG5hbWVMYWJlbCwgbmFtZUlucHV0KTtcbiAgICBmaWVsZHNldC5hcHBlbmQoZW1haWxMYWJlbCwgZW1haWxJbnB1dCk7XG4gICAgZmllbGRzZXQuYXBwZW5kKG1lc3NhZ2VMYWJlbCwgbWVzc2FnZUlucHV0KTtcblxuICAgIC8vIEFkZHMgdGhlIGVsZW1lbnRzIHRvIHRoZSBmb3JtIFxuICAgIGZvcm0uYXBwZW5kKGZpZWxkc2V0KTtcbiAgICBmb3JtLmFwcGVuZChidG4pO1xuXG4gICAgcmV0dXJuIGZvcm07XG59XG5cbmNvbnN0IGNyZWF0ZUlucHV0TGFiZWwgPSAobmFtZSkgPT4ge1xuICAgIGNvbnN0IGlucHV0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGlucHV0TGFiZWwuY2xhc3NMaXN0LmFkZChgJHtuYW1lfS1sYWJlbGApO1xuICAgIGlucHV0TGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBgJHtuYW1lfS1sYWJlbGApO1xuICAgIGlucHV0TGFiZWwuaW5uZXJUZXh0ID0gbmFtZTtcbiAgICByZXR1cm4gaW5wdXRMYWJlbDtcbn1cblxuXG5jb25zdCBjcmVhdGVJbnB1dCA9IChuYW1lLCB0eXBlKSA9PiB7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoYCR7bmFtZX0tbGFiZWxgKVxuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtuYW1lfS1sYWJlbGApO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsIGAke25hbWV9LWxhYmVsYCk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICd0cnVlJyk7XG4gICAgcmV0dXJuIGlucHV0XG59XG5cbmNvbnN0IGNyZWF0ZUNvbnRhY3QgPSAoKSA9PiB7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XG4gICAgbWFpbi50ZXh0Q29udGVudCA9ICcnO1xuICAgIGNvbnN0IHRpdGxlID0gY3JlYXRlVGl0bGUoKTtcbiAgICBjb25zdCBkZXRhaWxzID0gY3JlYXRlRGV0YWlscygpO1xuICAgIGNvbnN0IG9wZW4gPSBjcmVhdGVPcGVuSG91cnMoKTtcbiAgICBjb25zdCBmb3JtID0gY3JlYXRlRm9ybSgpO1xuICAgIG1haW4uYXBwZW5kKHRpdGxlLCBkZXRhaWxzLCBvcGVuLCBmb3JtKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQ29udGFjdCB9IiwiaW1wb3J0IHsgY3JlYXRlUGFnZUxheW91dCB9IGZyb20gJy4vbW9kdWxlcy9wYWdlLWxvYWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSG9tZSB9IGZyb20gJy4vbW9kdWxlcy9ob21lLmpzJztcbmltcG9ydCB7IGNyZWF0ZU1lbnUgfSBmcm9tICcuL21vZHVsZXMvbWVudS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb250YWN0IH0gZnJvbSAnLi9tb2R1bGVzL2NvbnRhY3QuanMnO1xuXG5jcmVhdGVQYWdlTGF5b3V0KCk7XG5jcmVhdGVIb21lKCk7XG5cbmNvbnN0IG5hdkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWxpc3QtbGluaycpO1xubmF2QnRucy5mb3JFYWNoKChidG4sIGluZGV4KSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGluZGV4KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY3JlYXRlSG9tZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNyZWF0ZU1lbnUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjcmVhdGVDb250YWN0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH07XG4gICAgfSk7XG59KTsiXSwibmFtZXMiOlsicGFnZUNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVMaXN0SXRlbSIsIm5hbWUiLCJuYXZMaXN0SXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJuYXZMaXN0SXRlbUxpbmsiLCJjcmVhdGVMaW5rIiwiYXBwZW5kIiwibGlua1RleHQiLCJjbGFzc05hbWUiLCJocmVmVmFsdWUiLCJsaW5rIiwic2V0QXR0cmlidXRlIiwiaW5uZXJUZXh0IiwiY3JlYXRlSW1nIiwic291cmNlIiwiaW1nIiwiY3JlYXRlSG9tZSIsIm1haW4iLCJ0ZXh0Q29udGVudCIsIm1haW5Db250ZW50Q29udGFpbmVyIiwidGl0bGUiLCJjcmVhdGVUaXRsZSIsImltZ1R3byIsInBhcmEiLCJsaW5lQnJlYWsiLCJjcmVhdGVEZXNjIiwibWVudUl0ZW1zIiwiY3JlYXRlTWVudSIsIm1lbnUiLCJtZW51Q29udGFpbmVyIiwiY3JlYXRlTWVudUNvbnRhaW5lciIsImZvckVhY2giLCJpdGVtIiwidGhpc0l0ZW0iLCJpdGVtVGl0bGUiLCJpdGVtRGVzYyIsIml0ZW1QcmljZSIsIml0ZW1JbWciLCJjb250YWluZXIiLCJkZXNjIiwicHJpY2UiLCJpbWdQYXRoIiwiaW1nQ29udGFpbmVyIiwiY3JlYXRlSXRlbSIsImNyZWF0ZUlucHV0TGFiZWwiLCJpbnB1dExhYmVsIiwiY3JlYXRlSW5wdXQiLCJ0eXBlIiwiaW5wdXQiLCJoZWFkZXIiLCJuYXYiLCJuYXZMaXN0IiwiaG9tZSIsImNvbnRhY3QiLCJjcmVhdGVIZWFkZXIiLCJjcmVhdGVNYWluIiwiZm9vdGVyIiwiZm9vdGVyUGFyYSIsImZvb3RlckxpbmtPbmUiLCJmb290ZXJMaW5rVHdvIiwiY3JlYXRlRm9vdGVyIiwicXVlcnlTZWxlY3RvckFsbCIsImJ0biIsImluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRldGFpbHMiLCJjb250YWluZXJEaXYiLCJhZGRyZXNzIiwicGhvbmVFbWFpbCIsImNyZWF0ZURldGFpbHMiLCJvcGVuIiwiaG91cnMiLCJjcmVhdGVPcGVuSG91cnMiLCJmb3JtIiwiZmllbGRzZXQiLCJsZWdlbmQiLCJuYW1lTGFiZWwiLCJuYW1lSW5wdXQiLCJlbWFpbExhYmVsIiwiZW1haWxJbnB1dCIsIm1lc3NhZ2VMYWJlbCIsIm1lc3NhZ2VJbnB1dCIsImNyZWF0ZUZvcm0iLCJjcmVhdGVDb250YWN0Il0sInNvdXJjZVJvb3QiOiIifQ==